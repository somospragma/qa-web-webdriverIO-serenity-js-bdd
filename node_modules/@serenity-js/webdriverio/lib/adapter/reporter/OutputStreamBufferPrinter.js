"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.OutputStreamBufferPrinter = void 0;
const index_js_1 = require("@serenity-js/core/lib/events/index.js");
/**
 * @package
 */
class OutputStreamBufferPrinter {
    buffer;
    outputStream;
    stage;
    constructor(buffer, outputStream, stage) {
        this.buffer = buffer;
        this.outputStream = outputStream;
        this.stage = stage;
    }
    assignedTo(stage) {
        this.stage = stage;
        return this;
    }
    notifyOf(event) {
        if (event instanceof index_js_1.SceneFinished && this.buffer.hasContent()) {
            this.outputStream.write(this.buffer.flush());
        }
    }
}
exports.OutputStreamBufferPrinter = OutputStreamBufferPrinter;
//# sourceMappingURL=OutputStreamBufferPrinter.js.map