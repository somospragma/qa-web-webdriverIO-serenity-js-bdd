"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ThemeForColourTerminals = void 0;
const model_1 = require("@serenity-js/core/lib/model");
const TerminalTheme_1 = require("./TerminalTheme");
/**
 * Base class for `TerminalTheme` implementations intended
 * to print to terminals that support colour output.
 */
class ThemeForColourTerminals extends TerminalTheme_1.TerminalTheme {
    chalk;
    /**
     * @param {chalk~Chalk} chalk
     *
     * @see https://www.npmjs.com/package/chalk
     */
    constructor(chalk) {
        super();
        this.chalk = chalk;
    }
    /**
     * Joins the `parts` into a single string and decorates it
     * using a colour appropriate for a given `Outcome`.
     *
     * @param outcome
     *  an instance of an `Outcome`
     *  or a string class name of one of its implementations.
     *
     * @param parts
     *  the parts of the message to be decorated
     */
    outcome(outcome, ...parts) {
        const outcomeName = (outcome instanceof model_1.Outcome)
            ? outcome.constructor.name
            : outcome;
        switch (outcomeName) {
            case model_1.ExecutionCompromised.name:
                return this.chalk.magenta(this.joined(parts));
            case model_1.ExecutionFailedWithError.name:
            case model_1.ExecutionFailedWithAssertionError.name:
                return this.chalk.red(this.joined(parts));
            case model_1.ImplementationPending.name:
                return this.chalk.blue(this.joined(parts));
            case model_1.ExecutionSkipped.name:
            case model_1.ExecutionIgnored.name:
                return this.chalk.blackBright(this.joined(parts));
            // case ExecutionSuccessful.name:
            default:
                return this.chalk.green(this.joined(parts));
        }
    }
}
exports.ThemeForColourTerminals = ThemeForColourTerminals;
//# sourceMappingURL=ThemeForColourTerminals.js.map